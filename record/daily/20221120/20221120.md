
Daily Record 20221120
=====================

## 流水

 学习[实验起步指引](https://os2edu.cn/course/106)第二课； 

## 知识点

虚拟内存： 让每一个进程都以为自己拥有全世界；

进程启动时候需要很小的内存， 更多的内存需求是运行时候通过malloc等向操作系统申请的；

映射最小区域：4Kb，更大的称为巨页；

Page Table: 映射表， 每一项称为PTE(Page Table Entry);

COW: Copy on write, 父进程打开一个子进程，会把父进程的页表也复制一份只读的给子进程，在需要写的地方，操作系统在S态创建新的内存

mmp写，页表项有一个D标志位，有一个独立程序巡检D如果为1，就写回硬盘同步；是不是可以理解成每个标志位都有一个巡检程序在监控其并作出相应操作；

TLB(Translation Lookaside Buffer): 缓存一部分页表在CPU所在芯片；正常情况下页表是保存在与CPU不同的芯片上，这样CPU取用会慢；

每个进程都有自己的页表，二级页表；如果CPU切换进程，也需要相应的刷新TLB；

satp作用: 告诉CPU当前应该用哪个页表做VA到PA翻译；

寄存器：存储电路构造的矩阵作为一个单元，称为寄存器，数字电路课程可能会讲到；

##### 为什么32位的最大寻址空间是4GB，计算公式？

`2^32=4,294,967,296=1024*1024*1024*4`

## 总结



## 下次学习入口



##### [返回Home](../../../README.md)


