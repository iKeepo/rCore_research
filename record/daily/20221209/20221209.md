
Daily Record 20221209
=====================

## 流水

实验指导书；

## 知识点

##### Address Space 抽象

可以视为一块巨大但并不一定真实存在的内存。

操作系统内核负责将物理内存管理起来，并未上面的应用提供一层抽象接口。完成以下射击目标：

1. 透明

   应用开发者可以不必了解底层真实物理内存的硬件细节，且在非必要时也不必关心内核的实现策略，最小化他们的心智负担

2. 高效

   大多数情况下不应该带来过大的额外开销

3. 安全

   这层抽象应该有效检测并组织应用读写其他应用或内核的代码、数据等一系列恶意行为

##### 地址空间只是一层抽象接口，它有很多种具体的实现策略

<u>固定参数实现策略</u>的弊端是，虽然实现简单，但不够灵活，容易造成**内碎片**（Internal Fragment）

<u>分段管理的策略</u>，以应用地址空间的一个逻辑段作为单位来安排内存，会带来外碎片（External Fragment）。

<u>内存分页管理</u>，取两者有点集合。

##### slot插槽

固定大小（[0, bound)）的一块内存空间；

##### 通过硬件功能来加速地址转换：MMU, TLB

##### MMU: Memory Management Unit

CPU 中的一个单元，自动将虚拟地址进行地址转换Address Translation变成一个物理地址。

通过MMU，应用对自己虚拟地址空间的读写被转化成为对于物理内存的访问。

不同应用有不同的虚拟内存到真实内存的映射关系，因此切换应用时候，需要有个寄存器内容让MMU知晓切换到哪个映射关系上去。

##### TLB

##### 特权级被拓展

应用程序只能访问操作系统提供的虚拟地址空间，无论是取指令来执行还是读写栈、堆或是全局数据段，都是虚拟地址。

这就相当于对特权级进行了拓展，使得应用不再具有直接访问物理内存的能力。



## 总结



## 下次学习入口



##### [返回Home](../../../README.md)


